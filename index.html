<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>TV Streaming</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        /* Styles de base */
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #1e1e1e, #3a3a3a);
            color: white;
            text-align: center;
            margin: 0;
            padding: 20px;
            overflow: hidden;
            position: relative;
        }

        /* Pour empêcher le zoom sur les smartphones */
        html, body {
            touch-action: manipulation;
        }

        /* Heure en haut à droite */
        .header {
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 1.5em;
        }

        /* Conteneur pour les vidéos et boutons */
        #video-container {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
        }

        video {
            width: 100%;
            max-width: 800px;
            border-radius: 10px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.5);
        }

        iframe {
            width: 100%;
            max-width: 800px;
            height: 450px;
            border: none;
            border-radius: 10px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.5);
        }

        /* Liste des chaînes */
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }

        .channel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin: 15px;
            width: 250px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s;
            text-align: center;
            cursor: pointer;
        }

        .channel:hover {
            transform: scale(1.05);
        }

        .channel img {
            width: 100px;
            height: auto;
            border-radius: 5px;
        }

        /* Style des boutons */
        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .btn {
            background-color: #007BFF;
            color: white;
            padding: 10px 20px;
            font-size: 1.1em;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        .btn:focus {
            outline: none;
        }

        /* Empêcher le zoom sur mobile */
        body, html {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
    </style>
</head>
<body>
    <div class="header" id="clock"></div>
    <h1>TV Streaming</h1>
    
    <!-- Conteneur de la vidéo -->
    <div id="video-container">
        <video id="video" controls style="display:none;"></video>
        <div id="dailymotion-container" style="display:none;">
            <iframe id="dailymotion-iframe" src="" allow="autoplay; encrypted-media" frameborder="0"></iframe>
        </div>
    </div>

    <!-- Liste des chaînes -->
    <div class="container" id="channel-list"></div>

    <!-- Boutons pour descendre -->
    <div class="button-container">
        <button class="btn" id="scrollDownBtn">Descendre</button>
    </div>

    <script>
        // Fonction pour afficher l'heure
        function updateClock() {
            const now = new Date();
            document.getElementById('clock').innerText = now.toLocaleTimeString();
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Liste des chaînes de TV et leurs liens
        const channels = [
            { name: "TF1", stream: "https://raw.githubusercontent.com/Paradise-91/ParaTV/main/streams/tf1plus/tf1.m3u8", logo: "tf1.png" },
            { name: "France 2", stream: "https://raw.githubusercontent.com/Paradise-91/ParaTV/main/streams/francetv/france2.m3u8", logo: "france2.png" },
            { name: "France 3", stream: "https://raw.githubusercontent.com/Paradise-91/ParaTV/main/streams/francetv/france3.m3u8", logo: "france3.png" },
            { name: "Canal+", stream: "https://geo.dailymotion.com/player.html?video=x5gv6be", logo: "canal.png" },
            { name: "France 5", stream: "https://raw.githubusercontent.com/Paradise-91/ParaTV/main/streams/francetv/france5.m3u8", logo: "france5.png" },
            { name: "Arte", stream: "https://geo.dailymotion.com/player.html?video=xgepjr", logo: "arte.png" }
        ];

        // Fonction pour charger les chaînes
        function loadChannels() {
            const container = document.getElementById("channel-list");
            container.innerHTML = "";

            channels.forEach(channel => {
                const channelDiv = document.createElement("div");
                channelDiv.classList.add("channel");
                channelDiv.innerHTML = `
                    <img src="${channel.logo}" alt="${channel.name} Logo">
                    <h3>${channel.name}</h3>
                `;
                channelDiv.addEventListener("click", () => playChannel(channel.stream));
                container.appendChild(channelDiv);
            });
        }

        // Fonction pour lire le flux vidéo
        function playChannel(streamUrl) {
            const video = document.getElementById("video");
            const dailymotionContainer = document.getElementById("dailymotion-container");
            const videoContainer = document.getElementById("video-container");

            // Cacher la vidéo pour les flux non HLS
            video.style.display = "none";
            dailymotionContainer.style.display = "none";

            // Si le flux est un lien HLS (.m3u8)
            if (streamUrl.endsWith('.m3u8')) {
                if (Hls.isSupported()) {
                    const hls = new Hls();
                    hls.loadSource(streamUrl);
                    hls.attachMedia(video);
                    video.style.display = "block";
                    video.play();
                } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                    video.src = streamUrl;
                    video.style.display = "block";
                    video.play();
                }
            }
            // Si le flux est une vidéo Dailymotion
            else if (streamUrl.includes('dailymotion.com')) {
                const iframe = document.getElementById("dailymotion-iframe");
                iframe.src = streamUrl;
                dailymotionContainer.style.display = "block";
            }
        }

        // Fonction pour faire défiler la page vers le bas
        document.getElementById("scrollDownBtn").addEventListener("click", function() {
            window.scrollBy(0, 600); // Faire défiler de 600px
        });

        loadChannels();
    </script>
</body>
</html>
